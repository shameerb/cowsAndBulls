<!DOCTYPE html>
<html>
	<head>
	<link rel="stylesheet" type="text/css" href="mystyle.css">
	<head>
	<body>
		<div class="outer">
				<nav type = "hidden" id="dynamicNav" value=0>
					<div class="guessed_div">
						<a id="hist1">DIGIT</a>
					</div>
					<div class="cow_div">
						<a id="hist1">COWS</a>
					</div>
					<div class="bull_div">
						<a id="hist1">BULLS</a>
					</div>
				</nav>
			<div class="inner">
				<header class ="describe">
					<a>Please input a 4 digit number </a>
				</header>
				<form name="f1">
				<input type="text" name="t1" id="txt1">
				<input type="text" name="t2" id="txt1">
				<!--<input type="text" name="t3" id="txt1">-->
				<input type="button" name="b1" value="CHECK" class="button_check" onclick="check()"> 
				<!--input type="button" name="b1" value="generate" onclick="generateRandom()"--> 
				</form>
			</div>
		</div>
	</body>
	
	<script language="javascript">
		
		//generateRandom();
		window.onload=function() {
			var val,a,b,c,d,cows=0,bulls=0;
			generateRandom()
		}
		function check()
		{
			cows=0,bulls=0;
			//generateRandom();
			checkCowsAndBulls();
			storeStack();
			addDivElement();
			setElementVal();
		}
		
		function generateRandom()
		{
			a=f1.t1.value;
			var limit = 10,
			amount = 4,
			lower_bound = 0,
			upper_bound = 9,X
			unique_random_numbers = [];

			if (amount > limit) limit = amount; //Infinite loop if you want more unique
												//Natural numbers than existemt in a
												// given range
			while (unique_random_numbers.length < amount) {
				var random_number = Math.round(Math.random()*(upper_bound - lower_bound) + lower_bound);
				if (unique_random_numbers.indexOf(random_number) == -1) { 
					unique_random_numbers.push( random_number );
				}
			}
				c=unique_random_numbers;
				document.f1.t2.value=c;
		}
		
		
		function checkCowsAndBulls()
		{
			a=f1.t1.value;
			b=a.split("");
			d=b.map(function(i){return parseInt(i)});
			console.log(b,c,d);
			d.forEach(function(guess){
				if( c.indexOf(guess) == d.indexOf(guess) )
					cows+=1;
				else if( c.indexOf(guess)!= -1 )
					bulls+=1;
			});
			
			console.log(" cows : ", cows , "bulls : " , bulls );
			
			//var elem=document.getElementById("hist2");
			//elem.innerHTML=('hi' + cows + " " + bulls );
		}
		
		function storeStack()
		{
				//create a history of the guessed words in a list 
		
		}
		
		function addDivElement()
		{
			//create as many divs as many guesses
			var parent =document.getElementById('dynamicNav');
			var count =parseInt(parent.getAttribute('value'))+1;
			parent.setAttribute('value',count);
			//console.log(count,parent);
			var new_div= document.createElement('div')
			var new_div_name = 'inner_'+count+'_div';
			new_div.setAttribute('id',new_div_name);
			new_div.setAttribute('class','innav');
			new_div.innerHTML='<a class="dyn_nav_a" id="inner_'+count+'_a"></a>';
			parent.appendChild(new_div);
			
		}
		 
		function setElementVal()
		{
			var count_div=parseInt((document.getElementById('dynamicNav')).getAttribute('value'));
			console.log('inner_'+count_div+'_a');
			var elem=document.getElementById('inner_'+count_div+'_a');
			console.log(elem);
			elem.innerHTML=(a+"   | " + cows + "  |     " + bulls );		
		}
		
	</script>
</html>
